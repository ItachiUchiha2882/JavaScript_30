<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Date created" content="This website was entirely made on 25 June 2022, Saturday, with lot of learnings and almost 5 hour countinuous sitting. :)">
    <title>Day 01 | JS Drumkit</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Anek+Malayalam&family=Roboto:wght@700&display=swap" rel="stylesheet">
    
</head>

<body>
    <div class="container">
        <h1 class="heading">JS Drumkit</h1>
        <div class="box">
            <!-- html <kbd> tag -->
            <!-- <p> <kbd>Ctrl</kbd>+<kbd>C</kbd> copies the content.</p> -->
            <div data-key="65" class="key">
                <h2>A</h2>
                <p class="sound">CLAP</p>
            </div>
            <div data-key="83" class="key">
                <h2>S</h2>
                <p class="sound">HIHAT</p>
            </div>
            <div data-key="68" class="key">
                <h2>D</h2>
                <p class="sound">KICK</p>
            </div>
            <div data-key="70" class="key">
                <h2>F</h2>
                <p class="sound">OPENHAT</p>
            </div>
            <div data-key="71" class="key">
                <h2>G</h2>
                <p class="sound">BOOM</p>
            </div>
            <div data-key="72" class="key">
                <h2>H</h2>
                <p class="sound">RIDE</p>
            </div>
            <div data-key="74" class="key">
                <h2>J</h2>
                <p class="sound">SNARE</p>
            </div>
            <div data-key="75" class="key">
                <h2>K</h2>
                <p class="sound">TOM</p>
            </div>
            <div data-key="76" class="key">
                <h2>L</h2>
                <p class="sound">TINK</p>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer">
            Made by Sourabh Bhosale
        </div>
    </footer>
    <audio data-key="65" src="./sounds/clap.wav"></audio>
    <audio data-key="83" src="./sounds/hihat.wav"></audio>
    <audio data-key="68" src="./sounds/kick.wav"></audio>
    <audio data-key="70" src="./sounds/openhat.wav"></audio>
    <audio data-key="71" src="./sounds/boom.wav"></audio>
    <audio data-key="72" src="./sounds/ride.wav"></audio>
    <audio data-key="74" src="./sounds/snare.wav"></audio>
    <audio data-key="75" src="./sounds/tom.wav"></audio>
    <audio data-key="76" src="./sounds/tink.wav"></audio>

    <script>
        function playSound(event) {
            // // .... functional part ....
            // console.log(event.keyCode);
            const aud = document.querySelector(`audio[data-key="${event.keyCode}"]`);
            // the above cmd matches audio.class with user input, and gives that audio object.
            // console.log(aud);
            if (!aud) return;
            aud.currentTime = 0;  // rewind to the start.
            aud.play();
            // // .... animation ....
            const key = document.querySelector(`.key[data-key="${event.keyCode}"]`);
            // console.log(key);
            key.classList.add('playing');
        }

        window.addEventListener('keydown', playSound);

        // .... transition end ....
        function removeTransition(e) {
            // console.log(e);
            if (e.propertyName !== 'transform') return;
            // skip it if it's not transform;
            // console.log(e.propertyName);
            // console.log(this);
            this.classList.remove('playing');
        }

        const keys = document.querySelectorAll('.key');
        // console.log(keys);
        keys.forEach(element => element.addEventListener('transitionend', removeTransition));

    </script>
</body>

</html>